import{a as S,b as v,c as _,d as P,e as N,f as x,g as A,h as R,i as T}from"./chunk-DVFYLYA2.js";import{a as F,b as E}from"./chunk-OPDS5BQF.js";import{$ as h,B as l,D as s,E as u,F as n,G as e,H as p,J as b,K as g,M as a,O as c,W as y,X as I,ba as C,u as r,w as d,x as f}from"./chunk-TF2YBHLY.js";function M(i,o){i&1&&(n(0,"div",16),a(1," Title is required. "),e())}function j(i,o){i&1&&(n(0,"div",16),a(1," Body is required. "),e())}function w(i,o){if(i&1&&(n(0,"div",17),a(1),e()),i&2){let m=g();r(),c(" ",m.message," ")}}var B=class i{constructor(o,m,t,G){this.fb=o;this.route=m;this.api=t;this.router=G}postForm;submitted=!1;postId;message="";ngOnInit(){this.postForm=this.fb.group({title:["",v.required],body:["",v.required]}),this.postId=Number(this.route.snapshot.paramMap.get("id"))||1,this.api.getPostById(this.postId).subscribe(o=>{this.postForm.patchValue({title:o.title,body:o.body})})}onSubmit(){this.submitted=!0,!this.postForm.invalid&&this.api.updatePost(this.postId,this.postForm.value).subscribe(o=>{this.router.navigate(["/"])})}static \u0275fac=function(m){return new(m||i)(d(R),d(h),d(E),d(C))};static \u0275cmp=f({type:i,selectors:[["app-edit-post"]],decls:23,vars:9,consts:[[1,"container","mt-4"],[1,"row","justify-content-center"],[1,"col-md-8"],[1,"card","shadow-sm"],[1,"card-header","bg-warning","text-dark"],[1,"mb-0"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","title",1,"form-label"],["id","title","type","text","formControlName","title",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","body",1,"form-label"],["id","body","rows","5","formControlName","body",1,"form-control"],["type","submit",1,"btn","btn-primary"],["class","alert alert-info mt-4",4,"ngIf"],[1,"invalid-feedback"],[1,"alert","alert-info","mt-4"]],template:function(m,t){m&1&&(p(0,"app-navbar"),n(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h4",5),a(7),e()(),n(8,"div",6)(9,"form",7),b("ngSubmit",function(){return t.onSubmit()}),n(10,"div",8)(11,"label",9),a(12,"Title"),e(),p(13,"input",10),l(14,M,2,0,"div",11),e(),n(15,"div",8)(16,"label",12),a(17,"Body"),e(),p(18,"textarea",13),l(19,j,2,0,"div",11),e(),n(20,"button",14),a(21,"Update Post"),e()(),l(22,w,2,1,"div",15),e()()()()()),m&2&&(r(7),c("Edit Post #",t.postId,""),r(2),s("formGroup",t.postForm),r(4),u("is-invalid",t.submitted&&t.postForm.controls.title.invalid),r(),s("ngIf",t.submitted&&t.postForm.controls.title.invalid),r(4),u("is-invalid",t.submitted&&t.postForm.controls.body.invalid),r(),s("ngIf",t.submitted&&t.postForm.controls.body.invalid),r(3),s("ngIf",t.message))},dependencies:[I,y,T,N,S,_,P,x,A,F],styles:[".card[_ngcontent-%COMP%]{border-radius:12px}"]})};export{B as EditPostComponent};

import{a as x,b as f,c as I,d as P,e as _,f as h,g as E,h as N,i as T}from"./chunk-DVFYLYA2.js";import{a as S,b as F}from"./chunk-OPDS5BQF.js";import{B as d,D as l,E as u,F as i,G as e,H as m,J as b,K as C,M as t,O as p,W as y,X as g,u as n,w as c,x as v}from"./chunk-TF2YBHLY.js";function B(r,s){r&1&&(i(0,"div",16),t(1," Title is required. "),e())}function D(r,s){r&1&&(i(0,"div",16),t(1," Body is required. "),e())}function G(r,s){if(r&1&&(i(0,"div",17)(1,"strong"),t(2,"Post submitted successfully!"),e(),m(3,"br"),i(4,"strong"),t(5,"ID:"),e(),t(6),m(7,"br"),i(8,"strong"),t(9,"Title:"),e(),t(10),m(11,"br"),i(12,"strong"),t(13,"Body:"),e(),t(14),e()),r&2){let a=C();n(6),p(" ",a.response.id,""),n(4),p(" ",a.response.title,""),n(4),p(" ",a.response.body," ")}}var w=class r{constructor(s,a){this.fb=s;this.api=a}postForm;submitted=!1;response=null;ngOnInit(){this.postForm=this.fb.group({title:["",f.required],body:["",f.required]})}onSubmit(){this.submitted=!0,!this.postForm.invalid&&this.api.createPost(this.postForm.value).subscribe(s=>{this.response=s,this.postForm.reset(),this.submitted=!1},s=>{console.error("Post creation failed",s)})}static \u0275fac=function(a){return new(a||r)(c(N),c(F))};static \u0275cmp=v({type:r,selectors:[["app-create-post"]],decls:23,vars:8,consts:[[1,"container","mt-4"],[1,"row","justify-content-center"],[1,"col-md-8"],[1,"card","shadow-sm"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","title",1,"form-label"],["id","title","type","text","formControlName","title",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","body",1,"form-label"],["id","body","rows","5","formControlName","body",1,"form-control"],["type","submit",1,"btn","btn-success"],["class","alert alert-success mt-4",4,"ngIf"],[1,"invalid-feedback"],[1,"alert","alert-success","mt-4"]],template:function(a,o){a&1&&(m(0,"app-navbar"),i(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h4",5),t(7,"Create New Post"),e()(),i(8,"div",6)(9,"form",7),b("ngSubmit",function(){return o.onSubmit()}),i(10,"div",8)(11,"label",9),t(12,"Title"),e(),m(13,"input",10),d(14,B,2,0,"div",11),e(),i(15,"div",8)(16,"label",12),t(17,"Body"),e(),m(18,"textarea",13),d(19,D,2,0,"div",11),e(),i(20,"button",14),t(21,"Submit Post"),e()(),d(22,G,15,3,"div",15),e()()()()()),a&2&&(n(9),l("formGroup",o.postForm),n(4),u("is-invalid",o.submitted&&o.postForm.controls.title.invalid),n(),l("ngIf",o.submitted&&o.postForm.controls.title.invalid),n(4),u("is-invalid",o.submitted&&o.postForm.controls.body.invalid),n(),l("ngIf",o.submitted&&o.postForm.controls.body.invalid),n(3),l("ngIf",o.response))},dependencies:[g,y,T,_,x,I,P,h,E,S],styles:[".card[_ngcontent-%COMP%]{border-radius:12px}"]})};export{w as CreatePostComponent};
